(this["webpackJsonpsudoku-react"]=this["webpackJsonpsudoku-react"]||[]).push([[0],{11:function(t,e,a){t.exports=a(20)},16:function(t,e,a){},17:function(t,e,a){t.exports=a.p+"static/media/logo.25bf045c.svg"},18:function(t,e,a){},20:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(10),c=a.n(s),o=(a(16),a(4)),i=a(5),l=a(8),u=a(6),f=a(7),d=(a(17),a(18),a(1)),h=a(3),b=a(2),m=a.n(b),p=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).createRow=function(t){return Array(9).fill().map((function(t,e){return 0}))},a.createTable=function(){return Array(9).fill().map((function(t,e){return a.createRow(e)}))},a.getRow=function(t){return a.state.table[t]},a.getCol=function(t){return a.state.table.map((function(e){return e[t]}))},a.getArea=function(t,e){var n;return(n=Array.prototype).concat.apply(n,Object(d.a)(a.state.table.slice(3*e,3*e+3).map((function(e){return e.slice(3*t,3*t+3)}))))},a.getDiag=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.state.table.map((function(e,a){return e[8*t+(t?-1:1)*a]}))},a.getAllAreas=function(){var t;return(t=Array.prototype).concat.apply(t,Object(d.a)(Object(d.a)(Array(3).keys()).map((function(t){return Object(d.a)(Array(3).keys()).map((function(e){return a.getArea(a.state.table,t,e)}))}))))},a.getAllConstraits=function(){var t=a.state.table,e=Object(d.a)(Array(9).keys()).map((function(t){return a.getCol(t)})),n=a.getAllAreas(a.state.table);console.log(n);var r=[a.getDiag(),a.getDiag(!0)];return[].concat(Object(d.a)(t),Object(d.a)(e),Object(d.a)(n),r)},a.allDistinct=function(t){var e=t.filter((function(t){return"number"===typeof t&&t>0}));return Object(d.a)(new Set(e)).length===e.length},a.allListsDistinct=function(t){return t.every(a.allDistinct)},a.validGameState=function(){return a.allListsDistinct(a.getAllConstraits())},a.state={table:a.createTable(),focused:{i:-1,j:-1},valid:!0,violator:{i:-1,j:-1}},a._handleInput=a._handleInput.bind(Object(h.a)(a)),a.getAllAreas=a.getAllAreas.bind(Object(h.a)(a)),a.getArea=a.getArea.bind(Object(h.a)(a)),a}return Object(f.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this._handleInput)}},{key:"focus",value:function(t,e){this.state.valid&&this.setState({focused:{i:t,j:e}})}},{key:"_handleInput",value:function(t){var e=this;if(this.state.focused.i>=0&&this.state.focused.j>=0&&!isNaN(t.key)){var a,n=this.state.focused.i,r=this.state.focused.j,s={};try{a=parseInt(t.key)}catch(i){return console.error(i)}s[n]={},s[n][r]={$set:a},this.setState({table:m()(this.state.table,s)},(function(){return e.allListsDistinct(e.getAllConstraits())?e.setState({valid:!0,violator:{i:-1,j:-1}}):e.setState({valid:!1,violator:{i:n,j:r}})}))}else if(this.state.valid){var c=function(t){return Math.min(t+1,8)},o=function(t){return Math.max(t-1,0)};switch(console.log(t.key),t.key){case"w":this.setState({focused:m()(this.state.focused,{i:o})});break;case"s":this.setState({focused:m()(this.state.focused,{i:c})});break;case"a":this.setState({focused:m()(this.state.focused,{j:o})});break;case"d":this.setState({focused:m()(this.state.focused,{j:c})});break;case"ArrowUp":this.setState({focused:m()(this.state.focused,{i:o})});break;case"ArrowDown":this.setState({focused:m()(this.state.focused,{i:c})});break;case"ArrowLeft":this.setState({focused:m()(this.state.focused,{j:o})});break;case"ArrowRight":this.setState({focused:m()(this.state.focused,{j:c})});break;default:return}}}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("table",{className:"sudoku",cellSpacing:0},r.a.createElement("tbody",null,this.state.table.map((function(e,a){return r.a.createElement("tr",{key:"row_".concat(a),className:"table-row"},e.map((function(e,n){return r.a.createElement("td",{className:"table-cell\n                                        ".concat(t.state.focused.i===a&&t.state.focused.j===n?"focused":"","\n                                        ").concat(t.state.violator.i===a&&t.state.violator.j===n?"violator":"","\n                                        "),key:"$cell-".concat(a,"-").concat(n),onClick:function(){return t.focus(a,n)}},0===t.state.table[a][n]?"":t.state.table[a][n])})))})))),r.a.createElement("div",{className:"keyboard"},Object(d.a)(Array(9).keys()).map((function(e){return r.a.createElement("div",{className:"key-wrapper",key:e},r.a.createElement("div",{className:"key",onClick:function(){return t._handleInput({key:e+1})}},e+1))}))))}}]),e}(r.a.Component),v=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={game:new p},a}return Object(f.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return this.state?console.table(this.state.game.table):console.log("not ready"),r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Sudoku"),r.a.createElement(p,null),r.a.createElement("footer",null,"\xa9 2015 Jiacheng Jiang"))}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.8069de28.chunk.js.map